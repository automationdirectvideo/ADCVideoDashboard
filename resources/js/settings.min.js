function resetSettings(){lsSet("settings",defaultSettings)}function saveNewSettings(){lsSet("settings",currentSettings)}function recordCycleSpeed(e){Number.isInteger(e)?(e<0&&(e=0),currentSettings.cycleSpeed=e):console.error("Type Error: ","Parameter speed is not an integer")}function recordScrollSpeeds(){const e=currentSettings.dashboards;for(let t=0;t<e.length;t++){const n=e[t];null!=n.scrollSpeed&&(scrollInput=document.getElementById(n.name+"-scroll-input"),currentSettings.dashboards[t].scrollSpeed=scrollInput.value)}}function moveDashboards(e,t){for(;e.children.length>0;){const n=e.children[0];n.remove(),t.appendChild(n)}}function setAllDashboardThemes(e){if(supportedThemes.includes(e)){const t=currentSettings.dashboards;for(let n=0;n<t.length;n++){const d=document.getElementById(t[n].name+"-badge");d.innerHTML=capitalizeFirstLetter(e),d.classList="badge badge-pill badge-theme badge-"+e;for(let d=0;d<supportedThemes.length;d++){const s=document.getElementById(t[n].name+"-"+supportedThemes[d]+"-btn");supportedThemes[d]==e?s.disabled=!0:s.disabled=!1}}}else console.error("Type Error: ","Parameter theme is not a supported value")}function recordDashboardOrderandThemes(){const e=enabledSortable.toArray();let t=0;for(let n=0;n<currentSettings.dashboards.length;n++){let d=currentSettings.dashboards[n];d.index=e.indexOf(d.name),d.index>=0&&t++;const s=document.getElementById(d.name+"-badge");d.theme=s.innerHTML.toLowerCase()}currentSettings.numEnabled=t}function loadDashboardList(){for(let e=0;e<currentSettings.dashboards.length;e++){const t=currentSettings.dashboards[e];let n=document.getElementById("INSERT_ID").cloneNode(!0),d=n.outerHTML;d=d.replace(/INSERT_ID/g,t.name),d=d.replace(/TITLE PLACEHOLDER/,t.title);const s=document.createElement("template");s.innerHTML=d,n=s.content.firstChild,enabledDashboardsList.appendChild(n),null!=t.scrollSpeed&&(document.getElementById(t.name+"-scroll-row").classList.remove("d-none"),document.getElementById(t.name+"-scroll-input").setAttribute("value",t.scrollSpeed))}}function loadSettings(){cycleSpeedInput.value=currentSettings.cycleSpeed;let e=new Array(currentSettings.numEnabled),t=new Array;for(let n=0;n<currentSettings.dashboards.length;n++){const d=currentSettings.dashboards[n];d.index>=0?e.splice(d.index,1,d.name):t.push(d.name);const s=document.getElementById(d.name+"-badge");s.innerHTML=capitalizeFirstLetter(d.theme),s.classList.add("badge-"+d.theme)}for(let t=0;t<e.length;t++){const n=document.getElementById(e[t]);n.remove(),enabledDashboardsList.appendChild(n)}for(let e=0;e<t.length;e++){const n=document.getElementById(t[e]);n.remove(),disabledDashboardsList.appendChild(n)}updateDashboardText()}function updateDashboardText(){disabledDashboardsList.children.length>0?document.getElementById("no-disabled-text").classList.add("d-none"):document.getElementById("no-disabled-text").classList.remove("d-none"),enabledDashboardsList.children.length>0?document.getElementById("no-enabled-text").classList.add("d-none"):document.getElementById("no-enabled-text").classList.remove("d-none")}let currentSettings=lsGet("settings");const supportedThemes=["light","dark"],cycleSpeedInput=document.getElementById("cycle-speed-input"),allLightThemeButton=document.getElementById("all-light-btn"),allDarkThemeButton=document.getElementById("all-dark-btn"),enableAllButton=document.getElementById("enable-all-btn"),disableAllButton=document.getElementById("disable-all-btn"),resetButton=document.getElementById("confirm-reset-btn"),saveButton=document.getElementById("save-btn");let disabledDashboardsList=document.getElementById("disabledDashboards"),enabledDashboardsList=document.getElementById("enabledDashboards");allLightThemeButton.addEventListener("click",function(){setAllDashboardThemes("light")}),allDarkThemeButton.addEventListener("click",function(){setAllDashboardThemes("dark")}),enableAllButton.addEventListener("click",function(){moveDashboards(disabledDashboardsList,enabledDashboardsList),updateDashboardText()}),disableAllButton.addEventListener("click",function(){moveDashboards(enabledDashboardsList,disabledDashboardsList),updateDashboardText()}),resetButton.addEventListener("click",function(){resetSettings(),window.location="index.html"}),saveButton.addEventListener("click",function(){recordCycleSpeed(parseInt(cycleSpeedInput.value,10)),recordScrollSpeeds(),recordDashboardOrderandThemes(),saveNewSettings(),window.location="index.html"}),loadDashboardList();for(let e=0;e<currentSettings.dashboards.length;e++)(function(){const t=currentSettings.dashboards[e].name,n=document.getElementById(t),d=document.getElementById(t+"-enable-btn"),s=document.getElementById(t+"-disable-btn"),a=document.getElementById(t+"-light-btn"),l=document.getElementById(t+"-dark-btn");"light"==currentSettings.dashboards[e].theme?(a.disabled=!0,l.disabled=!1):(l.disabled=!0,a.disabled=!1),-1==currentSettings.dashboards[e].index?(s.disabled=!0,d.disabled=!1):(d.disabled=!0,s.disabled=!1),d.addEventListener("click",function(){d.disabled=!0,s.disabled=!1,n.remove(),enabledDashboardsList.appendChild(n),updateDashboardText()}),s.addEventListener("click",function(){s.disabled=!0,d.disabled=!1,n.remove(),disabledDashboardsList.appendChild(n),updateDashboardText()}),a.addEventListener("click",function(){a.disabled=!0,l.disabled=!1;const e=document.getElementById(t+"-badge");e.innerHTML="Light",e.className="badge badge-pill badge-theme badge-light"}),l.addEventListener("click",function(){l.disabled=!0,a.disabled=!1;const e=document.getElementById(t+"-badge");e.innerHTML="Dark",e.className="badge badge-pill badge-theme badge-dark"})})();console.log("Current Settings: ",currentSettings),loadSettings();let enabledSortable=Sortable.create(enabledDashboards,{animation:150,ghostClass:"grey-background",group:"dashboards",handle:".drag-handle",onAdd:function(e){const t=document.getElementById(e.item.id+"-enable-btn"),n=document.getElementById(e.item.id+"-disable-btn");t.disabled=!0,n.disabled=!1},onChange:function(){updateDashboardText()}}),disabledSortable=Sortable.create(disabledDashboards,{animation:150,ghostClass:"grey-background",group:"dashboards",handle:".drag-handle",onAdd:function(e){const t=document.getElementById(e.item.id+"-enable-btn"),n=document.getElementById(e.item.id+"-disable-btn");t.disabled=!1,n.disabled=!0},onChange:function(){updateDashboardText()}});$(".collapse").on("show.bs.collapse",function(){const e=this.id,t=this.id.substring(0,e.length-4)+"collapse",n=this.id.substring(0,e.length-4)+"expand",d=document.getElementById(t),s=document.getElementById(n);s.classList.add("d-none"),d.classList.remove("d-none")}),$(".collapse").on("hide.bs.collapse",function(){const e=this.id,t=this.id.substring(0,e.length-4)+"collapse",n=this.id.substring(0,e.length-4)+"expand",d=document.getElementById(t),s=document.getElementById(n);d.classList.add("d-none"),s.classList.remove("d-none")});