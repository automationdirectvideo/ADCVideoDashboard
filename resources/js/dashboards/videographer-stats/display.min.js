function displayVideographerAvgViews(e){e=e||lsGet("videographers");const t=getDashboardGraphIds("videographerGraphs").avgViews,o={all:{graphId:t.all,title:"Average Views Per Video By Videographer (All Videos)"},organic:{graphId:t.organic,title:"Average Views Per Video By Videographer (Organic Videos)"},notOrganic:{graphId:t.notOrganic,title:"Average Views Per Video By Videographer (Not Organic Videos)"}};for(const t in o)if(o.hasOwnProperty(t)){const i=o[t].title,n=o[t].graphId,a=.8583,r=.9528,d=a*document.documentElement.clientHeight,s=r*document.documentElement.clientWidth,l=Math.floor(.0208*document.documentElement.clientWidth),m=Math.floor(.0128*document.documentElement.clientWidth),c=Math.floor(.0156*document.documentElement.clientWidth),h=Math.floor(.0156*document.documentElement.clientWidth),u=Math.floor(.0128*document.documentElement.clientWidth),g=Math.floor(.03*document.documentElement.clientWidth),p=Math.floor(.0104*document.documentElement.clientWidth);let y=[],f=[];const v=lsGet("videographerNames");v.forEach(o=>{const i=e[o][t],n=Math.round(i.avgViews),a=Math.round(i.lastXDaysAvgViews);y.push(n),f.push(a)});const V={x:v,y:y,name:"All Time",offsetgroup:1,textfont:{size:h},textposition:"auto",texttemplate:"~%{y:,}<br>views",type:"bar",yaxis:"y"};let E=JSON.parse(JSON.stringify(V));E.y=f,E.name="Last 30 Days",E.offsetgroup=2,E.yaxis="y2";let x=[V,E];const w={height:d,width:s,barmode:"group",hovermode:!1,legend:{bgcolor:"#eeeeee",font:{size:m},x:1.1,xanchor:"left",y:.5},margin:{b:p,t:g},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:l},text:i},xaxis:{automargin:!0,fixedrange:!0,tickfont:{size:u},title:{font:{size:c},text:"Videographers"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:u},title:{font:{size:c},text:"Average Views Per Video (All Time)"}},yaxis2:{automargin:!0,fixedrange:!0,showgrid:!1,overlaying:"y",side:"right",zeroline:!1,tickfont:{size:u},title:{font:{size:c},text:"Average Views Per Video (Last 30 Days)"}}},I={scrollZoom:!1,displayModeBar:!1,staticPlot:!0,responsive:!0};try{createGraph(n,x,w,I,a,r,!1)}catch(e){displayGraphError(n,e)}}}function displayVideographerMonthlyVideos(e){e=e||lsGet("videographers");const t=lsGet("videographerNames"),o=[getDashboardGraphIds("videographerGraphs").cumulativeVideos,getDashboardGraphIds("videographerGraphs").yearlyVideos],i={all:{cumulative:{graphId:o[0].all,title:"Cumulative Videos By Videographer (All Videos)"},yearly:{graphId:o[1].all,title:"Yearly Videos By Videographer (All Videos)"}},organic:{cumulative:{graphId:o[0].organic,title:"Cumulative Videos By Videographer (Organic Videos)"},yearly:{graphId:o[1].organic,title:"Yearly Videos By Videographer (Organic Videos)"}},notOrganic:{cumulative:{graphId:o[0].notOrganic,title:"Cumulative Videos By Videographer (Not Organic Videos)"},yearly:{graphId:o[1].notOrganic,title:"Yearly Videos By Videographer (Not Organic Videos)"}}};for(const o in i)if(i.hasOwnProperty(o)){const n=i[o].cumulative.title,a=i[o].cumulative.graphId,r=i[o].yearly.title,d=i[o].yearly.graphId;let s=[],l=[];t.forEach(t=>{const i=e[t][o],n=i.monthlyVideos,a=i.yearlyVideos;let r=[];for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];r.push({month:e,numVideos:t})}r.sort(function(e,t){return e.month>t.month?1:e.month==t.month?0:-1});let d=[];for(const e in a)if(a.hasOwnProperty(e)){const t=a[e];d.push({numVideos:t,year:e})}d.sort(function(e,t){return e.year>t.year?1:e.year==t.year?0:-1});let m=[],c=[],h=0,u=[];r.forEach(e=>{h+=e.numVideos,m.push(e.month),c.push(h);let t=[];1==e.numVideos?t.push("1 new video"):t.push(`${e.numVideos} new videos`),1==h?t.push("1 video total"):t.push(`${h} videos total`),u.push(t)});let g={x:m,y:c,name:t,customdata:u,stackgroup:"one",hovertemplate:"%{customdata[0]} in %{x}<br>%{customdata[1]}<extra>"+t+"</extra>"};s.push(g);let p=[],y=[],f=[];d.forEach(e=>{p.push(e.year),y.push(e.numVideos),1==e.numVideos?f.push("1 video"):f.push(`${e.numVideos} videos`)});let v={x:p,y:y,name:t,customdata:f,stackgroup:"one",groupnorm:"percent",hovertemplate:"%{y:.0f}% of total videos<br>%{customdata}<extra>"+t+"</extra>"};l.push(v)});const m=.8583,c=.9528,h=m*document.documentElement.clientHeight,u=c*document.documentElement.clientWidth,g=Math.floor(.0208*document.documentElement.clientWidth),p=Math.floor(.01*document.documentElement.clientWidth),y=Math.floor(.0156*document.documentElement.clientWidth),f=Math.floor(.0104*document.documentElement.clientWidth),v=Math.floor(.03*document.documentElement.clientWidth),V=Math.floor(.0104*document.documentElement.clientWidth),E={height:h,width:u,hoverlabel:{font:{size:f},namelength:-1},legend:{bgcolor:"#eeeeee",font:{size:p},y:.5},margin:{b:V,t:v},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:g},text:n},xaxis:{automargin:!0,fixedrange:!0,tickfont:{size:f},title:{font:{size:y},text:"Month"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:f},title:{font:{size:y},text:"Cumulative Videos Created"}}};let x=JSON.parse(JSON.stringify(E));x.title.text=r,x.xaxis.title.text="Year",x.yaxis.ticksuffix="%",x.yaxis.title.text="Percentage of Videos Created";const w={scrollZoom:!1,displayModeBar:!1};document.querySelector(".graph-loading-container").style.display="none";try{createGraph(a,s,E,w,m,c,!1)}catch(e){displayGraphError(a,e)}try{createGraph(d,l,x,w,m,c,!1)}catch(e){displayGraphError(monthlyGraphId,e)}}}function displayVideographerMonthlyViews(e){e=e||lsGet("videographers");const t=lsGet("videographerNames"),o=[getDashboardGraphIds("videographerGraphs").cumulativeViews,getDashboardGraphIds("videographerGraphs").monthlyViews],i={all:{cumulative:{graphId:o[0].all,title:"Cumulative Views By Videographer (All Videos)"},monthly:{graphId:o[1].all,title:"Monthly Views By Videographer (All Videos)"}},organic:{cumulative:{graphId:o[0].organic,title:"Cumulative Views By Videographer (Organic Videos)"},monthly:{graphId:o[1].organic,title:"Monthly Views By Videographer (Organic Videos)"}},notOrganic:{cumulative:{graphId:o[0].notOrganic,title:"Cumulative Views By Videographer (Not Organic Videos)"},monthly:{graphId:o[1].notOrganic,title:"Monthly Views By Videographer (Not Organic Videos)"}}};for(const o in i)if(i.hasOwnProperty(o)){const n=i[o].cumulative.title,a=i[o].cumulative.graphId,r=i[o].monthly.title,d=i[o].monthly.graphId;let s=[],l=[];t.forEach(t=>{const i=e[t][o],n=i.monthlyViews;let a=[];for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];a.push({month:e,numViews:t})}a.sort(function(e,t){return e.month>t.month?1:e.month==t.month?0:-1});let r=[],d=[],m=[],c=0,h=[],u=[];a.forEach(e=>{c+=e.numViews,r.push(e.month),d.push(c),m.push(e.numViews);let t=[];1==e.numViews?(t.push("1 new view"),u.push("1 view")):(t.push(`${numberWithCommas(e.numViews)} new views`),u.push(`${numberWithCommas(e.numViews)} views`)),1==c?t.push("1 view total"):t.push(`${numberWithCommas(c)} views total`),h.push(t)});let g={x:r,y:d,name:t,customdata:h,stackgroup:"one",hovertemplate:"%{customdata[0]} in %{x}<br>%{customdata[1]}<extra>"+t+"</extra>"},p={x:r,y:m,name:t,customdata:u,stackgroup:"one",groupnorm:"percent",hovertemplate:"%{y:.0f}% of total videos<br>%{customdata}<extra>"+t+"</extra>"};s.push(g),l.push(p)});const m=.8583,c=.9528,h=m*document.documentElement.clientHeight,u=c*document.documentElement.clientWidth,g=Math.floor(.0208*document.documentElement.clientWidth),p=Math.floor(.01*document.documentElement.clientWidth),y=Math.floor(.0156*document.documentElement.clientWidth),f=Math.floor(.0104*document.documentElement.clientWidth),v=Math.floor(.03*document.documentElement.clientWidth),V=Math.floor(.0104*document.documentElement.clientWidth),E={height:h,width:u,hoverlabel:{font:{size:f},namelength:-1},legend:{bgcolor:"#eeeeee",font:{size:p},y:.5},margin:{b:V,t:v},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:g},text:n},xaxis:{automargin:!0,fixedrange:!0,tickfont:{size:f},title:{font:{size:y},text:"Month"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:f},title:{font:{size:y},text:"Cumulative Views"}}};let x=JSON.parse(JSON.stringify(E));x.title.text=r,x.yaxis.ticksuffix="%",x.yaxis.title.text="Percentage of Views";const w={scrollZoom:!1,displayModeBar:!1};try{createGraph(a,s,E,w,m,c,!1)}catch(e){displayGraphError(a,e)}try{createGraph(d,l,x,w,m,c,!1)}catch(e){displayGraphError(d,e)}}}function displayVideographerStats(e=lsGet("videographers")){const t=lsGet("videographerNames");t.forEach(t=>{const o=t.replace(" ","*");for(const i in e[t])if(e[t].hasOwnProperty(i)){const n=e[t][i],a=`vstats-${o}-`,r=`${a}${i}-`,d=document.getElementById(`${r}views-total`),s=document.getElementById(`${r}views-avg`),l=document.getElementById(`${r}subs-total`),m=document.getElementById(`${r}subs-avg`),c=document.getElementById(`${r}comments-total`),h=document.getElementById(`${r}comments-avg`),u=document.getElementById(`${r}likes-total`),g=document.getElementById(`${r}likes-avg`),p=document.getElementById(`${r}dislikes-total`),y=document.getElementById(`${r}dislikes-avg`),f=document.getElementById(`${r}like-ratio-total`),v=document.getElementById(`${r}like-ratio-avg`),V=document.getElementById(`${r}like-bar-total`),E=document.getElementById(`${r}like-bar-avg`),x=document.getElementById(`${r}duration-total`),w=document.getElementById(`${r}duration-avg`);d.innerHTML=numberWithCommas(n.totalViews),s.innerHTML=numberWithCommas(roundTo(n.avgViews,0)),l.innerHTML=numberWithCommas(n.totalSubsGained),m.innerHTML=roundTo(n.avgSubsGained,2),c.innerHTML=numberWithCommas(n.totalComments),h.innerHTML=roundTo(n.avgComments,1),u.innerHTML=numberWithCommas(n.totalLikes),g.innerHTML=roundTo(n.avgLikes,2),p.innerHTML=numberWithCommas(n.totalDislikes),y.innerHTML=roundTo(n.avgDislikes,2);const I=decimalToPercent(n.cumLikeRatio),b=decimalToPercent(n.avgLikeRatio);f.innerHTML=I+"%",v.innerHTML=b+"%",V.style.width=I+"%",E.style.width=b+"%",x.innerHTML=secondsToDurationLabeled(n.totalDuration.toFixed(0)),w.innerHTML=secondsToDurationLabeled(n.avgDuration.toFixed(0));const B=`vstats-overall-${o}-`,M=`${B}${i}-`,$=document.getElementById(`${M}videos-total`),W=document.getElementById(`${M}videos-last`),L=document.getElementById(`${M}avp-total`),T=document.getElementById(`${M}avp-last`),O=document.getElementById(`${M}watched-total`),G=document.getElementById(`${M}watched-last`);$.innerHTML=n.numVideos,W.innerHTML=numberWithCommas(n.numVideosLastXDays),L.innerHTML=roundTo(n.avgViewPercentage,1)+"%",T.innerHTML=roundTo(n.avgViewPercentageLastXDays,1)+"%",O.innerHTML=numberWithCommas(n.minWatched),G.innerHTML=numberWithCommas(n.minWatchedLastXDays);let k=[{dashboardId:r,preCatId:a,leftBtn:{id:null,target:null},rightBtn:{id:`${r}more`,target:`${M}grid`}},{dashboardId:M,preCatId:B,leftBtn:{id:null,target:null},rightBtn:{id:`${M}more`,target:`${r}grid`}}];k.forEach(o=>{for(const n in e[t])if(e[t].hasOwnProperty(n)){const e=document.getElementById(`${o.dashboardId}grid`),t=document.getElementById(`${o.dashboardId}btn-${n}`);if(i==n)t.disabled="disabled";else{const i=document.getElementById(`${o.preCatId}${n}-grid`);t.onclick=function(){e.classList.remove("active-grid"),i.classList.add("active-grid")}}const a=document.getElementById(o.rightBtn.id),r=document.getElementById(o.rightBtn.target);a.onclick=function(){e.classList.remove("active-grid"),r.classList.add("active-grid")}}})}})}