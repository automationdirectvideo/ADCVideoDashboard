function displayChannelDemographics(e){const t=e.result.rows;let o=0,n=0,i=0,r=0;for(var a=0;a<t.length;a++){const e=parseFloat(t[a][2]);"female"==t[a][1]?(n+=e,e>r&&(r=e)):(o+=e,e>i&&(i=e))}for(a=0;a<t.length;a++){const e=t[a][0].substr(3),o=t[a][2];let n=document.getElementById(t[a][1]+"-"+e);n.innerHTML=`<span>${o}</span>%`,"female"==t[a][1]?n.style.opacity=(parseFloat(o)/r+1.5)/2.5:n.style.opacity=(parseFloat(o)/i+1.5)/2.5}if(o=Math.round(10*o)/10,n=Math.round(10*n)/10,o+n!=100){const e=100-(o+n);n+=e,n=Math.round(10*n)/10}document.getElementById("male-title").innerHTML=`\n    <i class="fas fa-male" style="font-size:3rem"></i>\n    <br>\n    <span style="font-size:2rem">${o}</span>\n    %\n  `,document.getElementById("female-title").innerHTML=`\n    <i class="fas fa-female" style="font-size:3rem"></i>\n    <br>\n    <span style="font-size:2rem">${n}</span>\n    %\n  `;const s=.0875,l=.05,d=s*document.documentElement.clientHeight,c=l*document.documentElement.clientWidth,m=[o,n],h=["Male","Female"],u=[{values:m,labels:h,textinfo:"none",hoverinfo:"none",marker:{colors:["rgb(84, 157, 209)","rgb(146, 111, 209)"]},type:"pie"}];let g={height:d,weight:c,showlegend:!1,margin:{l:0,r:0,t:0,b:0,pad:4}};const p={staticPlot:!0};if(gapi.auth2.getAuthInstance().isSignedIn.get()){const e=getCurrentDashboardTheme("platform");"dark"==e&&(g.plot_bgcolor="#222",g.paper_bgcolor="#222")}const y=getDashboardGraphIds("platform"),f=y.demographics;var b=document.getElementById(f);b.style.height=c+"px",b.style.width=c+"px";try{createGraph(f,u,g,p,s,l)}catch(e){return recordError(e,"Unable to display channel demographics graph"),Promise.resolve("Error Displaying Channel Demographics")}if(gapi.auth2.getAuthInstance().isSignedIn.get()){const e={values:[[JSON.stringify(t)]]};return updateSheetData("Stats","Channel Demographics",e).then(e=>"Displayed Channel Demographics")}return Promise.resolve("Displayed Channel Demographics")}function displayChannelSearchTerms(e){const t=e.result.rows;let o=[],n=[];const i=Math.min(9,t.length+-1);for(var r=i;r>=0;r--)o.push(t[r][1]),n.push(t[r][0]);var a=o.map(String);for(r=0;r<a.length;r++)a[r]=numberWithCommas(a[r]);const s=.2287,l=.4681,d=s*document.documentElement.clientHeight,c=l*document.documentElement.clientWidth,m=Math.floor(.0125*document.documentElement.clientWidth);let h={showline:!0,showticklabels:!0,tickmode:"linear",automargin:!0},u={yaxis:h};const g=[{x:o,y:n,type:"bar",orientation:"h",text:a,textposition:"auto",marker:{color:"rgb(255,0,0)"}}];let p={height:d,width:c,font:{size:m},margin:{b:10,r:0,t:10},xaxis:{visible:!1,automargin:!0},yaxis:h};const y={staticPlot:!0,responsive:!0},f=getCurrentDashboardTheme("platform");"dark"==f&&(p.plot_bgcolor="#222",p.paper_bgcolor="#222",p.font.color="#fff",h.linecolor="#fff",p.yaxis=h,u={yaxis:h});const b=getDashboardGraphIds("platform"),v=b.searchTerms;try{createGraph(v,g,p,y,s,l,u)}catch(e){return displayGraphError(v,e),Promise.resolve("Error Displaying Channel Search Terms")}return Promise.resolve("Displayed Channel Search Terms")}function displayWatchTimeBySubscribedStatus(e){const t=e.result.rows,o={UNSUBSCRIBED:"Not Subscribed",SUBSCRIBED:"Subscribed"};for(var n=0,i=[],r=[],a=0;a<t.length;a++)n+=t[a][1],i.push(t[a][1]),r.push(o[t[a][0]]);var s=[];for(a=0;a<i.length;a++)s[a]=decimalToPercent(i[a]/n)+"%";i[0]>i[1]&&(i.reverse(),r.reverse(),s.reverse());const l=.1039,d=.4681,c=l*document.documentElement.clientHeight,m=d*document.documentElement.clientWidth,h=Math.floor(.0125*document.documentElement.clientWidth);let u={showline:!0,showticklabels:!0,tickmode:"linear",automargin:!0},g={yaxis:u};const p=[{x:i,y:r,type:"bar",orientation:"h",text:s,textposition:"auto",marker:{color:"rgb(255,0,0)"}}];let y={height:c,width:m,font:{size:h},margin:{r:0,t:10,b:10},xaxis:{visible:!1,automargin:!0},yaxis:u};const f={staticPlot:!0,responsive:!0},b=getCurrentDashboardTheme("platform");"dark"==b&&(y.plot_bgcolor="#222",y.paper_bgcolor="#222",y.font.color="#fff",u.linecolor="#fff",y.yaxis=u,g={yaxis:u});const v=getDashboardGraphIds("platform"),E=v.watchTime;try{createGraph(E,p,y,f,l,d,g)}catch(e){return displayGraphError(E,e),Promise.resolve("Error Displaying Watch Time By Subscribed Status")}return Promise.resolve("Displayed Watch Time By Subscribed Status")}function displayViewsByDeviceType(e){var t=e.result.rows;const o=t[1];t[1]=t[3],t[3]=o;const n={DESKTOP:"Desktop",MOBILE:"Mobile",TABLET:"Tablet",TV:"TV",GAME_CONSOLE:"Game<br>Console"};for(var i=[],r=[],a=0;a<t.length;a++)i.push(t[a][1]),r.push(n[t[a][0]]);const s=.3742,l=.3065,d=s*document.documentElement.clientHeight,c=l*document.documentElement.clientWidth,m=Math.floor(.0125*document.documentElement.clientWidth),h=[{values:i,labels:r,type:"pie",sort:!1,textinfo:"label+percent",textposition:["inside","outside","outside","inside","outside"],rotation:-120,direction:"clockwise"}];let u={height:d,width:c,font:{size:m},automargin:!0,autosize:!0,showlegend:!1,margin:{l:0,r:0,t:0,b:20,pad:4}};const g={staticPlot:!0,responsive:!0},p=getCurrentDashboardTheme("platform");"dark"==p&&(u.plot_bgcolor="#222",u.paper_bgcolor="#222",u.font.color="#fff");const y=getDashboardGraphIds("platform"),f=y.deviceType;try{createGraph(f,h,u,g,s,l)}catch(e){return displayGraphError(f,e),Promise.resolve("Error Displaying Views By Device Type")}return Promise.resolve("Displayed Views By Device Type")}function displayViewsByState(e){const t=e.result.rows;for(var o=[],n=[],i=[],r=0;r<t.length;r++)o.push(t[r][0].substr(3)),n.push(t[r][1]),i.push(numberWithCommas(t[r][1])+" views");const a=.3742,s=.4681,l=a*document.documentElement.clientHeight,d=s*document.documentElement.clientWidth,c=Math.floor(.0093*document.documentElement.clientWidth);let m=[{type:"choropleth",locationmode:"USA-states",locations:o,z:n,text:i,hovertemplate:"%{location}<br>%{text}",name:"Views By State",autocolorscale:!0,colorbar:{tickfont:{size:c}}}],h={height:l,width:d,geo:{scope:"usa",countrycolor:"rgb(255, 255, 255)",showland:!0,landcolor:"rgb(217, 217, 217)",showlakes:!0,lakecolor:"rgb(255, 255, 255)",subunitcolor:"rgb(255, 255, 255)"},margin:{l:0,r:0,t:0,b:10,pad:4}};const u={scrollZoom:!1,displayModeBar:!1,responsive:!0},g=getCurrentDashboardTheme("platform");"dark"==g&&(h.plot_bgcolor="#222",h.paper_bgcolor="#222",m[0].colorbar={tickfont:{color:"#fff"}},h.geo.bgcolor="#222",h.geo.showlakes=!1);const p=getDashboardGraphIds("platform"),y=p.states;try{createGraph(y,m,h,u,a,s)}catch(e){return displayGraphError(y,e),Promise.resolve("Error Displaying Views By State")}return Promise.resolve("Displayed Views By State")}function displayViewsByTrafficSource(e){const t=e.result.rows;var o=0,n=0,i=0,r=0,a=0;const s=["ADVERTISING","PROMOTED"],l=["EXT_URL","NO_LINK_EMBEDDED","NO_LINK_OTHER"],d=["YT_SEARCH"],c=["RELATED_VIDEO"];for(var m=0;m<t.length;m++)s.includes(t[m][0])?o+=t[m][1]:l.includes(t[m][0])?n+=t[m][1]:d.includes(t[m][0])?i+=t[m][1]:c.includes(t[m][0])?r+=t[m][1]:a+=t[m][1];const h=[o,n,i,r,a],u=["Advertising","External","YouTube<br>Search","Related<br>Video","Other"],g=.3742,p=.3065,y=g*document.documentElement.clientHeight,f=p*document.documentElement.clientWidth,b=Math.floor(.0125*document.documentElement.clientWidth),v=[{values:h,labels:u,type:"pie",textinfo:"label+percent",textposition:"inside",rotation:90}];let E={height:y,width:f,font:{size:b},automargin:!0,autosize:!0,showlegend:!1,margin:{l:0,r:0,t:0,b:10,pad:4}};const x={staticPlot:!0,responsive:!0},w=getCurrentDashboardTheme("platform");"dark"==w&&(E.plot_bgcolor="#222",E.paper_bgcolor="#222",E.font.color="#fff");const V=getDashboardGraphIds("platform"),T=V.trafficSource;try{createGraph(T,v,E,x,g,p)}catch(e){return displayGraphError(T,e),Promise.resolve("Error Displaying Views By Traffic Source")}return Promise.resolve("Displayed Views By Traffic Source")}function displayTopCategoriesGraphOne(e){e=e||lsGet("categoryStats");var t=["SPECIAL CATEGORIES","OTHER","MISC"],o=0;let n=0;for(var i=.8583,r=.9528,a=i*document.documentElement.clientHeight,s=r*document.documentElement.clientWidth,l=Math.floor(.0234*document.documentElement.clientWidth),d=Math.floor(.02*document.documentElement.clientWidth),c=Math.floor(.0125*document.documentElement.clientWidth),m=[],h=[],u=[],g="views",p=.025,y=categoryColors,f=0;f<e.length;f++){let n=e[f],i=n.root;if(i)for(var b=0;b<t.length;b++)n.name.includes(t[b])&&(i=!1);i&&(o+=Math.round(n[g]))}for(f=0;f<e.length;f++){let i=e[f],r=i.root;if(r)for(b=0;b<t.length;b++)i.name.includes(t[b])&&(r=!1);if(r){let e=Math.round(i[g]);e/o<=p?n+=e:(m.push(e),h.push(y[i.shortName].name),u.push(y[i.shortName].color))}}null!=p&&p>0&&(m.push(n),h.push("Other"),u.push("#5fe0ed"));var v={values:m,labels:h,marker:{colors:u},domain:{row:0,column:0},name:"Total Views<br>By Category",title:{text:"Total Views<br>By Category",font:{size:l}},textinfo:"label",textposition:"inside",hoverlabel:{namelength:"-1"},hovertemplate:"%{label}<br>%{value} views<br>%{percent}",sort:!1,type:"pie",rotation:90};o=0,n=0,m=[],h=[],u=[],g="avgViews",p=.025;for(f=0;f<e.length;f++){let n=e[f],i=n.root;if(i)for(b=0;b<t.length;b++)n.name.includes(t[b])&&(i=!1);i&&(o+=Math.round(n[g]))}for(f=0;f<e.length;f++){let i=e[f],r=i.root;if(r)for(b=0;b<t.length;b++)i.name.includes(t[b])&&(r=!1);if(r){let e=Math.round(i[g]);e/o<=p?n+=e:(m.push(e),h.push(y[i.shortName].name),u.push(y[i.shortName].color))}}null!=p&&p>0&&(m.push(n),h.push("Other"),u.push("#5fe0ed"));var E={values:m,labels:h,marker:{colors:u},domain:{row:0,column:1},name:"Average Views Per Video<br>By Category",title:{text:"Average Views Per Video<br>By Category",font:{size:l}},textinfo:"label",textposition:"inside",hoverlabel:{namelength:"-1"},hovertemplate:"%{label}<br>~%{value} views per video<br>%{percent}",sort:!1,type:"pie",rotation:140},x=[E,v],w={height:a,width:s,font:{size:d},automargin:!0,autosize:!0,paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",legend:{bgcolor:"#eeeeee",font:{size:c},y:.5},grid:{rows:1,columns:2},margin:{b:5,l:5,r:5,t:5}},V={staticPlot:!0,responsive:!0};const T=getDashboardGraphIds("product-categories"),I=T.graphOne,M=getCurrentDashboardTheme("product-categories");"dark"==M&&(w.plot_bgcolor="#222",w.paper_bgcolor="#222",w.font.color="#fff",w.legend.bgcolor="#444",w.legend.font.color="#fff");try{createGraph(I,x,w,V,i,r)}catch(e){displayGraphError(I,e)}}function displayVideoBasicStats(e,t,o){const n=e.result.rows;for(let e=0;e<n.length;e++){const i=n[e],r=i[0],a=t[r];let s=document.getElementById(a+"-views");s.innerHTML=numberWithCommas(i[1]);let l=document.getElementById(a+"-subs-net");l.innerHTML=numberWithCommas(i[7]-i[8]);let d=document.getElementById(a+"-like-ratio"),c=document.getElementById(a+"-likes"),m=document.getElementById(a+"-like-bar");const h=decimalToPercent(i[3]/(i[3]+i[4]));d.innerHTML=h+"%",c.innerHTML=numberWithCommas(i[3])+" Likes",m.style.width=h+"%",m.setAttribute("aria-valuenow",h);let u=document.getElementById(a+"-dislikes");u.innerHTML=i[4]+" Dislikes";let g=document.getElementById(a+"-comments");g.innerHTML=numberWithCommas(i[2]);let p=document.getElementById(a+"-avg-view-duration");const y=i[6];p.innerHTML=secondsToDuration(y);const f=document.getElementById(a+"-duration-seconds").innerHTML,b=decimalToPercent(y/f);let v=document.getElementById(a+"-avg-view-percentage");v.innerHTML=" ("+b+"%)";let E=document.getElementById(a+"-minutes-watched");E.innerHTML=numberWithCommas(i[5]),null!=o&&(o[r].views=i[1],o[r].subscribersGained=i[7]-i[8],o[r].avgViewDuration=i[6],o[r].minutesWatched=i[5],o[r].comments=i[2],o[r].likes=i[3],o[r].dislikes=i[4])}return null==o?null:o}function displayVideoDailyViews(e,t){if(e){let y=e.result.rows;for(var o=[],n=[],i=0;i<y.length;i++)o.push(y[i][0]),n.push(y[i][1]);var r=.228,a=.4681,s=r*document.documentElement.clientHeight,l=a*document.documentElement.clientWidth,d=Math.floor(.0104*document.documentElement.clientWidth),c={automargin:!0,fixedrange:!0,tickangle:-60,tickformat:"%-m/%d",type:"date"},m={automargin:!0,fixedrange:!0,showline:!0,showticklabels:!0,title:"Views"},h={xaxis:c,yaxis:m},u=[{x:o,y:n,fill:"tozeroy",marker:{color:"rgb(255,0,0)"},mode:"lines",type:"scatter"}],g={height:s,width:l,font:{size:d},margin:{b:0,t:0},xaxis:c,yaxis:m},p={displayModeBar:!1,responsive:!0};const f=getCurrentDashboardTheme(t);"dark"==f&&(g.plot_bgcolor="#222",g.paper_bgcolor="#222",g.font.color="#fff",c.linecolor="#fff",m.linecolor="#fff",g.xaxis=c,g.yaxis=m,h={xaxis:c,yaxis:m});const b=getDashboardGraphIds(t),v=b.dailyViews;try{createGraph(v,u,g,p,r,a,h)}catch(e){throw displayGraphError(v),e}}}function displayVideoSearchTerms(e,t){if(e){let g=e.result.rows,p=[],y=[],f=Math.min(4,g.length-1);for(var o=f;o>=0;o--)p.push(g[o][1]),y.push(g[o][0]);var n=p.map(String);for(o=0;o<n.length;o++)n[o]=numberWithCommas(n[o]);var i=.228,r=.4681,a=i*document.documentElement.clientHeight,s=r*document.documentElement.clientWidth,l=Math.floor(.0125*document.documentElement.clientWidth),d={showline:!0,showticklabels:!0,tickmode:"linear",automargin:!0},c={yaxis:d},m=[{x:p,y:y,type:"bar",orientation:"h",text:n,textangle:0,textposition:"auto",marker:{color:"rgb(255,0,0)"}}],h={height:a,width:s,font:{size:l},autosize:!1,margin:{b:0,r:0,t:0},xaxis:{visible:!1},yaxis:d},u={staticPlot:!0,responsive:!0};const b=getCurrentDashboardTheme(t);"dark"==b&&(h.plot_bgcolor="#222",h.paper_bgcolor="#222",h.font.color="#fff",d.linecolor="#fff",h.yaxis=d,c={yaxis:d});const v=getDashboardGraphIds(t),E=v.searchTerms;try{createGraph(E,m,h,u,i,r,c)}catch(e){throw displayGraphError(E),e}}}function parseCardPerformance(e,t){if(e){let o=[t,0,0,0,0];try{let n=e.result.rows[0],i=parseInt(n[0]),r=parseFloat(n[1]).toFixed(4),a=parseInt(n[2]),s=parseFloat(n[3]).toFixed(4);o[1]=i,o[2]=r,o[3]=a,o[4]=s}catch(e){const o=`No card data exists for month: "${t}" - `;console.log(o),recordError(e,o)}finally{return o}}}function displayVideographerAvgViews(e){e=e||lsGet("videographers");const t=getDashboardGraphIds("videographerGraphs").avgViews,o={all:{graphId:t.all,title:"Average Views Per Video By Videographer (All Videos)"},organic:{graphId:t.organic,title:"Average Views Per Video By Videographer (Organic Videos)"},notOrganic:{graphId:t.notOrganic,title:"Average Views Per Video By Videographer (Not Organic Videos)"}};for(const t in o)if(o.hasOwnProperty(t)){const n=o[t].title,i=o[t].graphId,r=.8583,a=.9528,s=r*document.documentElement.clientHeight,l=a*document.documentElement.clientWidth,d=Math.floor(.0208*document.documentElement.clientWidth),c=Math.floor(.0128*document.documentElement.clientWidth),m=Math.floor(.0156*document.documentElement.clientWidth),h=Math.floor(.0156*document.documentElement.clientWidth),u=Math.floor(.0128*document.documentElement.clientWidth),g=Math.floor(.03*document.documentElement.clientWidth),p=Math.floor(.0104*document.documentElement.clientWidth);let y=[],f=[];const b=["Shane C","Rick F","Tim W"];b.forEach(o=>{const n=e[o][t],i=Math.round(n.avgViews),r=Math.round(n.lastXDaysAvgViews);y.push(i),f.push(r)});const v={x:b,y:y,name:"All Time",offsetgroup:1,textfont:{size:h},textposition:"auto",texttemplate:"~%{y:,}<br>views",type:"bar",yaxis:"y"};let E=JSON.parse(JSON.stringify(v));E.y=f,E.name="Last 30 Days",E.offsetgroup=2,E.yaxis="y2";let x=[v,E];const w={height:s,width:l,barmode:"group",hovermode:!1,legend:{bgcolor:"#eeeeee",font:{size:c},x:1.1,xanchor:"left",y:.5},margin:{b:p,t:g},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:d},text:n},xaxis:{automargin:!0,fixedrange:!0,tickfont:{size:u},title:{font:{size:m},text:"Videographers"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:u},title:{font:{size:m},text:"Average Views Per Video (All Time)"}},yaxis2:{automargin:!0,fixedrange:!0,showgrid:!1,overlaying:"y",side:"right",zeroline:!1,tickfont:{size:u},title:{font:{size:m},text:"Average Views Per Video (Last 30 Days)"}}},V={scrollZoom:!1,displayModeBar:!1,staticPlot:!0,responsive:!0};try{createGraph(i,x,w,V,r,a)}catch(e){displayGraphError(i,e)}}}function displayVideographerMonthlyVideos(e){e=e||lsGet("videographers");const t=["Shane C","Rick F","Tim W"],o=[getDashboardGraphIds("videographerGraphs").cumulativeVideos,getDashboardGraphIds("videographerGraphs").monthlyVideos],n={all:{cumulative:{graphId:o[0].all,title:"Cumulative Videos By Videographer (All Videos)"},monthly:{graphId:o[1].all,title:"Monthly Videos By Videographer (All Videos)"}},organic:{cumulative:{graphId:o[0].organic,title:"Cumulative Videos By Videographer (Organic Videos)"},monthly:{graphId:o[1].organic,title:"Monthly Videos By Videographer (Organic Videos)"}},notOrganic:{cumulative:{graphId:o[0].notOrganic,title:"Cumulative Videos By Videographer (Not Organic Videos)"},monthly:{graphId:o[1].notOrganic,title:"Monthly Videos By Videographer (Not Organic Videos)"}}};for(const o in n)if(n.hasOwnProperty(o)){const i=n[o].cumulative.title,r=n[o].cumulative.graphId,a=n[o].monthly.title,s=n[o].monthly.graphId;let l=[],d=[];t.forEach(t=>{const n=e[t][o],i=n.monthlyVideos;let r=[];for(const e in i)if(i.hasOwnProperty(e)){const t=i[e];r.push({month:e,numVideos:t})}r.sort(function(e,t){return e.month>t.month?1:e.month==t.month?0:-1});let a=[],s=[],c=[],m=0,h=[],u=[];r.forEach(e=>{m+=e.numVideos,a.push(e.month),s.push(m),c.push(e.numVideos);let t=[];1==e.numVideos?(t.push("1 new video"),u.push("1 video")):(t.push(`${e.numVideos} new videos`),u.push(`${e.numVideos} videos`)),1==m?t.push("1 video total"):t.push(`${m} videos total`),h.push(t)});let g={x:a,y:s,name:t,customdata:h,stackgroup:"one",hovertemplate:"%{customdata[0]} in %{x}<br>%{customdata[1]}<extra>"+t+"</extra>"},p={x:a,y:c,name:t,customdata:u,stackgroup:"one",groupnorm:"percent",hovertemplate:"%{y:.0f}% of total videos<br>%{customdata}<extra>"+t+"</extra>"};l.push(g),d.push(p)});const c=.8583,m=.9528,h=c*document.documentElement.clientHeight,u=m*document.documentElement.clientWidth,g=Math.floor(.0208*document.documentElement.clientWidth),p=Math.floor(.01*document.documentElement.clientWidth),y=Math.floor(.0156*document.documentElement.clientWidth),f=Math.floor(.0104*document.documentElement.clientWidth),b=Math.floor(.03*document.documentElement.clientWidth),v=Math.floor(.0104*document.documentElement.clientWidth),E={height:h,width:u,hoverlabel:{font:{size:f},namelength:-1},legend:{bgcolor:"#eeeeee",font:{size:p},y:.5},margin:{b:v,t:b},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:g},text:i},xaxis:{automargin:!0,fixedrange:!0,tickfont:{size:f},title:{font:{size:y},text:"Month"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:f},title:{font:{size:y},text:"Cumulative Videos Created"}}};let x=JSON.parse(JSON.stringify(E));x.title.text=a,x.yaxis.ticksuffix="%",x.yaxis.title.text="Percentage of Videos Created";const w={scrollZoom:!1,displayModeBar:!1};try{createGraph(r,l,E,w,c,m)}catch(e){displayGraphError(r,e)}try{createGraph(s,d,x,w,c,m)}catch(e){displayGraphError(s,e)}}}function displayVideographerMonthlyViews(e){e=e||lsGet("videographers");const t=["Shane C","Rick F","Tim W"],o=[getDashboardGraphIds("videographerGraphs").cumulativeViews,getDashboardGraphIds("videographerGraphs").monthlyViews],n={all:{cumulative:{graphId:o[0].all,title:"Cumulative Views By Videographer (All Videos)"},monthly:{graphId:o[1].all,title:"Monthly Views By Videographer (All Videos)"}},organic:{cumulative:{graphId:o[0].organic,title:"Cumulative Views By Videographer (Organic Videos)"},monthly:{graphId:o[1].organic,title:"Monthly Views By Videographer (Organic Videos)"}},notOrganic:{cumulative:{graphId:o[0].notOrganic,title:"Cumulative Views By Videographer (Not Organic Videos)"},monthly:{graphId:o[1].notOrganic,title:"Monthly Views By Videographer (Not Organic Videos)"}}};for(const o in n)if(n.hasOwnProperty(o)){const i=n[o].cumulative.title,r=n[o].cumulative.graphId,a=n[o].monthly.title,s=n[o].monthly.graphId;let l=[],d=[];t.forEach(t=>{const n=e[t][o],i=n.monthlyViews;let r=[];for(const e in i)if(i.hasOwnProperty(e)){const t=i[e];r.push({month:e,numViews:t})}r.sort(function(e,t){return e.month>t.month?1:e.month==t.month?0:-1});let a=[],s=[],c=[],m=0,h=[],u=[];r.forEach(e=>{m+=e.numViews,a.push(e.month),s.push(m),c.push(e.numViews);let t=[];1==e.numViews?(t.push("1 new view"),u.push("1 view")):(t.push(`${numberWithCommas(e.numViews)} new views`),u.push(`${numberWithCommas(e.numViews)} views`)),1==m?t.push("1 view total"):t.push(`${numberWithCommas(m)} views total`),h.push(t)});let g={x:a,y:s,name:t,customdata:h,stackgroup:"one",hovertemplate:"%{customdata[0]} in %{x}<br>%{customdata[1]}<extra>"+t+"</extra>"},p={x:a,y:c,name:t,customdata:u,stackgroup:"one",groupnorm:"percent",hovertemplate:"%{y:.0f}% of total videos<br>%{customdata}<extra>"+t+"</extra>"};l.push(g),d.push(p)});const c=.8583,m=.9528,h=c*document.documentElement.clientHeight,u=m*document.documentElement.clientWidth,g=Math.floor(.0208*document.documentElement.clientWidth),p=Math.floor(.01*document.documentElement.clientWidth),y=Math.floor(.0156*document.documentElement.clientWidth),f=Math.floor(.0104*document.documentElement.clientWidth),b=Math.floor(.03*document.documentElement.clientWidth),v=Math.floor(.0104*document.documentElement.clientWidth),E={height:h,width:u,hoverlabel:{font:{size:f},namelength:-1},legend:{bgcolor:"#eeeeee",font:{size:p},y:.5},margin:{b:v,t:b},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:g},text:i},xaxis:{automargin:!0,fixedrange:!0,tickfont:{size:f},title:{font:{size:y},text:"Month"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:f},title:{font:{size:y},text:"Cumulative Views"}}};let x=JSON.parse(JSON.stringify(E));x.title.text=a,x.yaxis.ticksuffix="%",x.yaxis.title.text="Percentage of Views";const w={scrollZoom:!1,displayModeBar:!1};try{createGraph(r,l,E,w,c,m)}catch(e){displayGraphError(r,e)}try{createGraph(s,d,x,w,c,m)}catch(e){displayGraphError(s,e)}}}function displayVideographerStats(e=lsGet("videographers")){const t=["Shane C","Rick F","Tim W"];t.forEach(t=>{const o=t.replace(" ","*");for(const n in e[t])if(e[t].hasOwnProperty(n)){const i=e[t][n],r=`vstats-${o}-`,a=`${r}${n}-`,s=document.getElementById(`${a}views-total`),l=document.getElementById(`${a}views-avg`),d=document.getElementById(`${a}subs-total`),c=document.getElementById(`${a}subs-avg`),m=document.getElementById(`${a}comments-total`),h=document.getElementById(`${a}comments-avg`),u=document.getElementById(`${a}likes-total`),g=document.getElementById(`${a}likes-avg`),p=document.getElementById(`${a}dislikes-total`),y=document.getElementById(`${a}dislikes-avg`),f=document.getElementById(`${a}like-ratio-total`),b=document.getElementById(`${a}like-ratio-avg`),v=document.getElementById(`${a}like-bar-total`),E=document.getElementById(`${a}like-bar-avg`),x=document.getElementById(`${a}duration-total`),w=document.getElementById(`${a}duration-avg`);s.innerHTML=numberWithCommas(i.totalViews),l.innerHTML=numberWithCommas(roundTo(i.avgViews,0)),d.innerHTML=numberWithCommas(i.totalSubsGained),c.innerHTML=roundTo(i.avgSubsGained,2),m.innerHTML=numberWithCommas(i.totalComments),h.innerHTML=roundTo(i.avgComments,1),u.innerHTML=numberWithCommas(i.totalLikes),g.innerHTML=roundTo(i.avgLikes,2),p.innerHTML=numberWithCommas(i.totalDislikes),y.innerHTML=roundTo(i.avgDislikes,2);const V=decimalToPercent(i.cumLikeRatio),T=decimalToPercent(i.avgLikeRatio);f.innerHTML=V+"%",b.innerHTML=T+"%",v.style.width=V+"%",E.style.width=T+"%",x.innerHTML=secondsToDurationLabeled(i.totalDuration.toFixed(0)),w.innerHTML=secondsToDurationLabeled(i.avgDuration.toFixed(0));const I=`vstats-overall-${o}-`,M=`${I}${n}-`,B=document.getElementById(`${M}videos-total`),D=document.getElementById(`${M}videos-last`),C=document.getElementById(`${M}avp-total`),k=document.getElementById(`${M}avp-last`),W=document.getElementById(`${M}watched-total`),L=document.getElementById(`${M}watched-last`);B.innerHTML=i.numVideos,D.innerHTML=numberWithCommas(i.numVideosLastXDays),C.innerHTML=roundTo(i.avgViewPercentage,1)+"%",k.innerHTML=roundTo(i.avgViewPercentageLastXDays,1)+"%",W.innerHTML=numberWithCommas(i.minWatched),L.innerHTML=numberWithCommas(i.minWatchedLastXDays);let G=[{dashboardId:a,preCatId:r,leftBtn:{id:null,target:null},rightBtn:{id:`${a}more`,target:`${M}grid`}},{dashboardId:M,preCatId:I,leftBtn:{id:null,target:null},rightBtn:{id:`${M}more`,target:`${a}grid`}}];G.forEach(o=>{for(const i in e[t])if(e[t].hasOwnProperty(i)){const e=document.getElementById(`${o.dashboardId}grid`),t=document.getElementById(`${o.dashboardId}btn-${i}`);if(n==i)t.disabled="disabled";else{const n=document.getElementById(`${o.preCatId}${i}-grid`);t.onclick=function(){e.classList.remove("active-grid"),n.classList.add("active-grid")}}const r=document.getElementById(o.rightBtn.id),a=document.getElementById(o.rightBtn.target);r.onclick=function(){e.classList.remove("active-grid"),a.classList.add("active-grid")}}})}})}function displayContestComparisonGraph(e){const t=lsGet("allVideoStats"),o=.8583,n=.9528,i=o*document.documentElement.clientHeight,r=n*document.documentElement.clientWidth,a=Math.floor(.0208*document.documentElement.clientWidth),s=Math.floor(.0128*document.documentElement.clientWidth),l=Math.floor(.0156*document.documentElement.clientWidth),d=Math.floor(.0156*document.documentElement.clientWidth),c=Math.floor(.0128*document.documentElement.clientWidth),m=Math.floor(.03*document.documentElement.clientWidth),h=Math.floor(.0104*document.documentElement.clientWidth);let u=[],g=[],p=[];for(const o in e)if(e.hasOwnProperty(o)){const n=e[o];u.push(n.shortTitle);const i=t.findIndex(e=>o==e.videoId);g.push(t[i].views),p.push(t[i].subscribersGained)}u=u.map(e=>e.replace(/(?![^\n]{1,20}$)([^\n]{1,20})\s/g,"$1<br>"));const y={x:u,y:g,name:"Views",offsetgroup:1,textfont:{size:d},textposition:"auto",texttemplate:"%{y:,}",type:"bar",yaxis:"y"};let f=JSON.parse(JSON.stringify(y));f.y=p,f.name="Subscribers<br>Gained",f.offsetgroup=2,f.texttemplate="%{y:,}",f.yaxis="y2";const b=[y,f],v={height:i,width:r,barmode:"group",hovermode:!1,legend:{bgcolor:"#eeeeee",font:{size:s},x:1.1,xanchor:"left",y:.5},margin:{b:h,t:m},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:a},text:"Contest Video Views and Subscribers Gained"},xaxis:{automargin:!0,fixedrange:!0,tickangle:0,tickfont:{size:c},title:{font:{size:l},text:"Contest Video"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:c},title:{font:{size:l},text:"Video Views"}},yaxis2:{automargin:!0,fixedrange:!0,showgrid:!1,overlaying:"y",side:"right",zeroline:!1,tickfont:{size:c},title:{font:{size:l},text:"Subscribers Gained"}}},E={scrollZoom:!1,displayModeBar:!1,staticPlot:!0,responsive:!0},x=getDashboardGraphIds("contestGraphs"),w=x.comparison;try{createGraph(w,b,v,E,o,n)}catch(e){displayGraphError(w,e)}}function displayContestVideoStats(e){const t=lsGet("allVideoStats"),o=lsGet("statsByVideoId");let n=0;for(const i in e)if(e.hasOwnProperty(i)){const r=e[i],a=t.findIndex(e=>i==e.videoId),s=`contest-video-${n}`,l=document.getElementById(`${s}-views`),d=document.getElementById(`${s}-comments`),c=document.getElementById(`${s}-subs-gained`),m=document.getElementById(`${s}-dates`),h=document.getElementById(`${s}-num-days`),u=document.getElementById(`${s}-thumbnail`),g=document.getElementById(`${s}-title`),p=document.getElementById(`${s}-publish-date`),y=document.getElementById(`${s}-duration`),f=document.getElementById(`${s}-like-ratio`),b=document.getElementById(`${s}-like-bar`),v=document.getElementById(`${s}-likes`),E=document.getElementById(`${s}-dislikes`),x=document.getElementById(`${s}-example-comment`);l.innerHTML=numberWithCommas(t[a].views),d.innerHTML=numberWithCommas(t[a].comments),c.innerHTML=numberWithCommas(t[a].subscribersGained);const w=new Date(r.startDate),V=new Date(r.endDate),T=w.toLocaleString("default",{month:"short",timeZone:"UTC"});let I=T+". "+w.getUTCDate();w.getUTCFullYear()!=V.getUTCFullYear()&&(I+=", "+w.getUTCFullYear()),I+=" - <br>"+V.toLocaleString("default",{month:"short"})+". "+V.getUTCDate()+", "+V.getUTCFullYear(),m.innerHTML=I;const M=Math.round((V-w)/864e5);h.innerHTML=`(${M} Days)`;const B=o[i].title,D=`\n        <a href="https://youtu.be/${i}" target="_blank"\n            alt="${B}">\n          <img class="top-video-thumbnail" onload="thumbnailCheck($(this), true)"\n              src="https://i.ytimg.com/vi/${i}/maxresdefault.jpg"\n              alt="thumbnail" title="${B}">\n        </a>`;u.innerHTML=D,g.innerHTML=B,p.innerHTML="Published: "+dateToMMDDYYYY(o[i].publishDate),y.innerHTML="Duration: "+secondsToDuration(t[a].duration);const C=t[a].likes,k=t[a].dislikes;let W=C/(C+k);isNaN(W)&&(W=0),W=decimalToPercent(W),v.innerHTML=`${C} Likes`,E.innerHTML=`${k} Dislikes`,f.innerHTML=W+"%",b.style.width=W+"%",x.innerHTML=r.exampleComment,requestVideoDailyViews(r.startDate,r.endDate,i,s),n++}}