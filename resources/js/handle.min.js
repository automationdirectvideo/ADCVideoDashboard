function displayChannelDemographics(e){const t=e.result.rows;let o=0,n=0,i=0,r=0;for(var a=0;a<t.length;a++){const e=parseFloat(t[a][2]);"female"==t[a][1]?(n+=e,e>r&&(r=e)):(o+=e,e>i&&(i=e))}for(a=0;a<t.length;a++){const e=t[a][0].substr(3),o=t[a][2];let n=document.getElementById(t[a][1]+"-"+e);n.innerHTML=`<span>${o}</span>%`,"female"==t[a][1]?n.style.opacity=(parseFloat(o)/r+1.5)/2.5:n.style.opacity=(parseFloat(o)/i+1.5)/2.5}if(o=Math.round(10*o)/10,n=Math.round(10*n)/10,o+n!=100){const e=100-(o+n);n+=e,n=Math.round(10*n)/10}document.getElementById("male-title").innerHTML=`\n    <i class="fas fa-male" style="font-size:3rem"></i>\n    <br>\n    <span style="font-size:2rem">${o}</span>\n    %\n  `,document.getElementById("female-title").innerHTML=`\n    <i class="fas fa-female" style="font-size:3rem"></i>\n    <br>\n    <span style="font-size:2rem">${n}</span>\n    %\n  `;const s=.0875,l=.05,d=s*document.documentElement.clientHeight,c=l*document.documentElement.clientWidth,m=[o,n],h=["Male","Female"],u=[{values:m,labels:h,textinfo:"none",hoverinfo:"none",marker:{colors:["rgb(84, 157, 209)","rgb(146, 111, 209)"]},type:"pie"}];let g={height:d,weight:c,showlegend:!1,margin:{l:0,r:0,t:0,b:0,pad:4}};const p={staticPlot:!0};if(gapi.auth2.getAuthInstance().isSignedIn.get()){const e=getCurrentDashboardTheme("platform");"dark"==e&&(g.plot_bgcolor="#222",g.paper_bgcolor="#222")}const f=getDashboardGraphIds("platform"),y=f.demographics;var b=document.getElementById(y);b.style.height=c+"px",b.style.width=c+"px";try{createGraph(y,u,g,p,s,l)}catch(e){return recordError(e,"Unable to display channel demographics graph"),Promise.resolve("Error Displaying Channel Demographics")}if(gapi.auth2.getAuthInstance().isSignedIn.get()){const e={values:[[JSON.stringify(t)]]};return updateSheetData("Stats","Channel Demographics",e).then(e=>"Displayed Channel Demographics")}return Promise.resolve("Displayed Channel Demographics")}function displayChannelSearchTerms(e){const t=e.result.rows;let o=[],n=[];const i=Math.min(9,t.length+-1);for(var r=i;r>=0;r--)o.push(t[r][1]),n.push(t[r][0]);var a=o.map(String);for(r=0;r<a.length;r++)a[r]=numberWithCommas(a[r]);const s=.2287,l=.4681,d=s*document.documentElement.clientHeight,c=l*document.documentElement.clientWidth,m=Math.floor(.0125*document.documentElement.clientWidth);let h={showline:!0,showticklabels:!0,tickmode:"linear",automargin:!0},u={yaxis:h};const g=[{x:o,y:n,type:"bar",orientation:"h",text:a,textposition:"auto",marker:{color:"rgb(255,0,0)"}}];let p={height:d,width:c,font:{size:m},margin:{b:10,r:0,t:10},xaxis:{visible:!1,automargin:!0},yaxis:h};const f={staticPlot:!0,responsive:!0},y=getCurrentDashboardTheme("platform");"dark"==y&&(p.plot_bgcolor="#222",p.paper_bgcolor="#222",p.font.color="#fff",h.linecolor="#fff",p.yaxis=h,u={yaxis:h});const b=getDashboardGraphIds("platform"),v=b.searchTerms;try{createGraph(v,g,p,f,s,l,!0,u)}catch(e){return displayGraphError(v,e),Promise.resolve("Error Displaying Channel Search Terms")}return Promise.resolve("Displayed Channel Search Terms")}function displayWatchTimeBySubscribedStatus(e){const t=e.result.rows,o={UNSUBSCRIBED:"Not Subscribed",SUBSCRIBED:"Subscribed"};for(var n=0,i=[],r=[],a=0;a<t.length;a++)n+=t[a][1],i.push(t[a][1]),r.push(o[t[a][0]]);var s=[];for(a=0;a<i.length;a++)s[a]=decimalToPercent(i[a]/n)+"%";i[0]>i[1]&&(i.reverse(),r.reverse(),s.reverse());const l=.1039,d=.4681,c=l*document.documentElement.clientHeight,m=d*document.documentElement.clientWidth,h=Math.floor(.0125*document.documentElement.clientWidth);let u={showline:!0,showticklabels:!0,tickmode:"linear",automargin:!0},g={yaxis:u};const p=[{x:i,y:r,type:"bar",orientation:"h",text:s,textposition:"auto",marker:{color:"rgb(255,0,0)"}}];let f={height:c,width:m,font:{size:h},margin:{r:0,t:10,b:10},xaxis:{visible:!1,automargin:!0},yaxis:u};const y={staticPlot:!0,responsive:!0},b=getCurrentDashboardTheme("platform");"dark"==b&&(f.plot_bgcolor="#222",f.paper_bgcolor="#222",f.font.color="#fff",u.linecolor="#fff",f.yaxis=u,g={yaxis:u});const v=getDashboardGraphIds("platform"),E=v.watchTime;try{createGraph(E,p,f,y,l,d,!0,g)}catch(e){return displayGraphError(E,e),Promise.resolve("Error Displaying Watch Time By Subscribed Status")}return Promise.resolve("Displayed Watch Time By Subscribed Status")}function displayViewsByDeviceType(e){let t=e.result.rows;const o=t[1];t[1]=t[3],t[3]=o;const n={DESKTOP:"Desktop",MOBILE:"Mobile",TABLET:"Tablet",TV:"TV",GAME_CONSOLE:"Game<br>Console"};let i=[],r=[];for(let e=0;e<t.length;e++)i.push(t[e][1]),r.push(n[t[e][0]]);const a=.3742,s=.3065,l=a*document.documentElement.clientHeight,d=s*document.documentElement.clientWidth,c=Math.floor(.0125*document.documentElement.clientWidth),m=Math.floor(.01*document.documentElement.clientWidth),h=[{values:i,labels:r,direction:"clockwise",hovertemplate:"<b>%{label}</b><br>%{value} views<br>%{percent} of total views<extra></extra>",rotation:-120,sort:!1,textinfo:"label+percent",textposition:["inside","outside","outside","inside","outside"],type:"pie"}];let u={height:l,width:d,automargin:!0,autosize:!0,font:{size:c},hoverlabel:{font:{size:m}},margin:{b:20,l:0,r:0,t:0,pad:4},showlegend:!1};const g={responsive:!0,staticPlot:!0},p=getCurrentDashboardTheme("platform");"dark"==p&&(u.plot_bgcolor="#222",u.paper_bgcolor="#222",u.font.color="#fff");const f=getDashboardGraphIds("platform"),y=f.deviceType;try{createGraph(y,h,u,g,a,s)}catch(e){return displayGraphError(y,e),Promise.resolve("Error Displaying Views By Device Type")}return Promise.resolve("Displayed Views By Device Type")}function displayViewsByState(e){const t=e.result.rows,o={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"};let n=[],i=[],r=[],a=[];for(let e=0;e<t.length;e++){let s=t[e][0].substr(3);n.push(s),i.push(o[s]),r.push(t[e][1]),a.push(numberWithCommas(t[e][1])+" views")}const s=.3742,l=.4681,d=s*document.documentElement.clientHeight,c=l*document.documentElement.clientWidth,m=Math.floor(.0093*document.documentElement.clientWidth),h=Math.floor(.01*document.documentElement.clientWidth);let u=[{autocolorscale:!0,colorbar:{tickfont:{size:m}},customdata:i,hovertemplate:"<b>%{customdata}</b><br>%{text}<extra></extra>",locationmode:"USA-states",locations:n,name:"Views By State",text:a,type:"choropleth",z:r}],g={height:d,width:c,geo:{countrycolor:"rgb(255, 255, 255)",lakecolor:"rgb(255, 255, 255)",landcolor:"rgb(217, 217, 217)",scope:"usa",showlakes:!0,showland:!0,subunitcolor:"rgb(255, 255, 255)"},hoverlabel:{font:{size:h}},margin:{b:10,l:0,r:0,t:0,pad:4}};const p={displayModeBar:!1,responsive:!0,scrollZoom:!1},f=getCurrentDashboardTheme("platform");"dark"==f&&(g.plot_bgcolor="#222",g.paper_bgcolor="#222",u[0].colorbar={tickfont:{color:"#fff"}},g.geo.bgcolor="#222",g.geo.showlakes=!1);const y=getDashboardGraphIds("platform"),b=y.states;try{createGraph(b,u,g,p,s,l)}catch(e){return displayGraphError(b,e),Promise.resolve("Error Displaying Views By State")}return Promise.resolve("Displayed Views By State")}function displayViewsByTrafficSource(e){const t=e.result.rows;let o=0,n=0,i=0,r=0,a=0;const s=["ADVERTISING","PROMOTED"],l=["EXT_URL","NO_LINK_EMBEDDED","NO_LINK_OTHER"],d=["YT_SEARCH"],c=["RELATED_VIDEO"];for(var m=0;m<t.length;m++)s.includes(t[m][0])?o+=t[m][1]:l.includes(t[m][0])?n+=t[m][1]:d.includes(t[m][0])?i+=t[m][1]:c.includes(t[m][0])?r+=t[m][1]:a+=t[m][1];const h=[o,n,i,r,a],u=["Advertising","External","YouTube<br>Search","Related<br>Video","Other"],g=.3742,p=.3065,f=g*document.documentElement.clientHeight,y=p*document.documentElement.clientWidth,b=Math.floor(.0125*document.documentElement.clientWidth),v=Math.floor(.01*document.documentElement.clientWidth),E=[{values:h,labels:u,hovertemplate:"<b>%{label}</b><br>%{value} views<br>%{percent} of total views<extra></extra>",rotation:90,textinfo:"label+percent",textposition:"inside",type:"pie"}];let x={height:f,width:y,automargin:!0,autosize:!0,font:{size:b},hoverlabel:{font:{size:v}},margin:{b:10,l:0,r:0,t:0,pad:4},showlegend:!1};const w={responsive:!0,staticPlot:!0},M=getCurrentDashboardTheme("platform");"dark"==M&&(x.plot_bgcolor="#222",x.paper_bgcolor="#222",x.font.color="#fff");const V=getDashboardGraphIds("platform"),I=V.trafficSource;try{createGraph(I,E,x,w,g,p)}catch(e){return displayGraphError(I,e),Promise.resolve("Error Displaying Views By Traffic Source")}return Promise.resolve("Displayed Views By Traffic Source")}function displayTopCategoriesGraphOne(e){e=e||lsGet("categoryStats");let t=["SPECIAL CATEGORIES","OTHER","MISC"],o=0,n=0;const i=.8583,r=.9528,a=i*document.documentElement.clientHeight,s=r*document.documentElement.clientWidth,l=Math.floor(.0234*document.documentElement.clientWidth),d=Math.floor(.02*document.documentElement.clientWidth),c=Math.floor(.0125*document.documentElement.clientWidth),m=Math.floor(.01*document.documentElement.clientWidth);let h=[],u=[],g=[],p="views",f=.025,y=categoryColors;for(let n=0;n<e.length;n++){let i=e[n],r=i.root;if(r)for(let e=0;e<t.length;e++)i.name.includes(t[e])&&(r=!1);r&&(o+=Math.round(i[p]))}for(let i=0;i<e.length;i++){let r=e[i],a=r.root;if(a)for(let e=0;e<t.length;e++)r.name.includes(t[e])&&(a=!1);if(a){let e=Math.round(r[p]);e/o<=f?n+=e:(h.push(e),u.push(y[r.shortName].name),g.push(y[r.shortName].color))}}null!=f&&f>0&&(h.push(n),u.push("Other"),g.push("#5fe0ed"));const b={values:h,labels:u,domain:{row:0,column:0},hoverlabel:{namelength:"-1",font:{size:m}},hovertemplate:"<b>%{label}</b><br>%{value} views<br>%{percent}<extra></extra>",marker:{colors:g},name:"Total Views<br>By Category",rotation:90,sort:!1,textinfo:"label",textposition:"inside",title:{font:{size:l},text:"Total Views<br>By Category"},type:"pie"};o=0,n=0,h=[],u=[],g=[],p="avgViews",f=.025;for(let n=0;n<e.length;n++){let i=e[n],r=i.root;if(r)for(let e=0;e<t.length;e++)i.name.includes(t[e])&&(r=!1);r&&(o+=Math.round(i[p]))}for(let i=0;i<e.length;i++){let r=e[i],a=r.root;if(a)for(let e=0;e<t.length;e++)r.name.includes(t[e])&&(a=!1);if(a){let e=Math.round(r[p]);e/o<=f?n+=e:(h.push(e),u.push(y[r.shortName].name),g.push(y[r.shortName].color))}}null!=f&&f>0&&(h.push(n),u.push("Other"),g.push("#5fe0ed"));const v={values:h,labels:u,domain:{row:0,column:1},hoverlabel:{namelength:"-1",font:{size:m}},hovertemplate:"<b>%{label}</b><br>~%{value} views per video<br>%{percent}<extra></extra>",marker:{colors:g},name:"Average Views Per Video<br>By Category",rotation:140,sort:!1,textinfo:"label",textposition:"inside",title:{font:{size:l},text:"Average Views Per Video<br>By Category"},type:"pie"},E=[v,b];let x={height:a,width:s,automargin:!0,autosize:!0,font:{size:d},grid:{columns:2,rows:1},legend:{bgcolor:"#eeeeee",font:{size:c},y:.5},margin:{b:5,l:5,r:5,t:5},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)"};const w={responsive:!0,staticPlot:!0},M=getDashboardGraphIds("product-categories"),V=M.graphOne,I=getCurrentDashboardTheme("product-categories");"dark"==I&&(x.plot_bgcolor="#222",x.paper_bgcolor="#222",x.font.color="#fff",x.legend.bgcolor="#444",x.legend.font.color="#fff");try{createGraph(V,E,x,w,i,r)}catch(e){displayGraphError(V,e)}}function displayVideoBasicStats(e,t,o){const n=e.result.rows;for(let e=0;e<n.length;e++){const i=n[e],r=i[0],a=t[r];let s=document.getElementById(a+"-views");s.innerHTML=numberWithCommas(i[1]);let l=document.getElementById(a+"-subs-net");l.innerHTML=numberWithCommas(i[7]-i[8]);let d=document.getElementById(a+"-like-ratio"),c=document.getElementById(a+"-likes"),m=document.getElementById(a+"-like-bar");const h=decimalToPercent(i[3]/(i[3]+i[4]));d.innerHTML=h+"%",c.innerHTML=numberWithCommas(i[3])+" Likes",m.style.width=h+"%",m.setAttribute("aria-valuenow",h);let u=document.getElementById(a+"-dislikes");u.innerHTML=i[4]+" Dislikes";let g=document.getElementById(a+"-comments");g.innerHTML=numberWithCommas(i[2]);let p=document.getElementById(a+"-avg-view-duration");const f=i[6];p.innerHTML=secondsToDuration(f);const y=document.getElementById(a+"-duration-seconds").innerHTML,b=decimalToPercent(f/y);let v=document.getElementById(a+"-avg-view-percentage");v.innerHTML=" ("+b+"%)";let E=document.getElementById(a+"-minutes-watched");E.innerHTML=numberWithCommas(i[5]),null!=o&&(o[r].views=i[1],o[r].subscribersGained=i[7]-i[8],o[r].avgViewDuration=i[6],o[r].minutesWatched=i[5],o[r].comments=i[2],o[r].likes=i[3],o[r].dislikes=i[4])}return null==o?null:o}function displayVideoDailyViews(e,t){if(e){const o=e.result.rows;let n=[],i=[],r=[];for(let e=0;e<o.length;e++){n.push(o[e][0]);const t=o[e][1];i.push(t),1==t?r.push(`${t} view`):r.push(`${t} views`)}const a=.228,s=.4681,l=a*document.documentElement.clientHeight,d=s*document.documentElement.clientWidth,c=Math.floor(.0104*document.documentElement.clientWidth),m=Math.floor(.01*document.documentElement.clientWidth);let h={automargin:!0,fixedrange:!0,tickangle:-60,tickformat:"%-m/%d",type:"date"},u={automargin:!0,fixedrange:!0,showline:!0,showticklabels:!0,title:"Views"},g={xaxis:h,yaxis:u};const p=[{x:n,y:i,customdata:r,fill:"tozeroy",hovertemplate:"%{customdata}<extra></extra>",marker:{color:"rgb(255,0,0)"},mode:"lines",type:"scatter"}];let f={height:l,width:d,font:{size:c},hoverlabel:{font:{size:m}},margin:{b:0,r:0,t:0},xaxis:h,yaxis:u};const y={displayModeBar:!1,responsive:!0},b=getCurrentDashboardTheme(t);"dark"==b&&(f.plot_bgcolor="#222",f.paper_bgcolor="#222",f.font.color="#fff",h.linecolor="#fff",u.linecolor="#fff",f.xaxis=h,f.yaxis=u,g={xaxis:h,yaxis:u});const v=getDashboardGraphIds(t),E=v.dailyViews;try{createGraph(E,p,f,y,a,s,!0,g)}catch(e){throw displayGraphError(E),e}}}function displayVideoSearchTerms(e,t){if(e){let g=e.result.rows,p=[],f=[],y=Math.min(4,g.length-1);for(var o=y;o>=0;o--)p.push(g[o][1]),f.push(g[o][0]);var n=p.map(String);for(o=0;o<n.length;o++)n[o]=numberWithCommas(n[o]);var i=.228,r=.4681,a=i*document.documentElement.clientHeight,s=r*document.documentElement.clientWidth,l=Math.floor(.0125*document.documentElement.clientWidth),d={showline:!0,showticklabels:!0,tickmode:"linear",automargin:!0},c={yaxis:d},m=[{x:p,y:f,type:"bar",orientation:"h",text:n,textangle:0,textposition:"auto",marker:{color:"rgb(255,0,0)"}}],h={height:a,width:s,font:{size:l},autosize:!1,margin:{b:0,r:0,t:0},xaxis:{visible:!1},yaxis:d},u={staticPlot:!0,responsive:!0};const b=getCurrentDashboardTheme(t);"dark"==b&&(h.plot_bgcolor="#222",h.paper_bgcolor="#222",h.font.color="#fff",d.linecolor="#fff",h.yaxis=d,c={yaxis:d});const v=getDashboardGraphIds(t),E=v.searchTerms;try{createGraph(E,m,h,u,i,r,!0,c)}catch(e){throw displayGraphError(E),e}}}function parseCardPerformance(e,t){if(e){let o=[t,0,0,0,0];try{let n=e.result.rows[0],i=parseInt(n[0]),r=parseFloat(n[1]).toFixed(4),a=parseInt(n[2]),s=parseFloat(n[3]).toFixed(4);o[1]=i,o[2]=r,o[3]=a,o[4]=s}catch(e){const o=`No card data exists for month: "${t}" - `;console.log(o),recordError(e,o)}finally{return o}}}function displayVideographerAvgViews(e){e=e||lsGet("videographers");const t=getDashboardGraphIds("videographerGraphs").avgViews,o={all:{graphId:t.all,title:"Average Views Per Video By Videographer (All Videos)"},organic:{graphId:t.organic,title:"Average Views Per Video By Videographer (Organic Videos)"},notOrganic:{graphId:t.notOrganic,title:"Average Views Per Video By Videographer (Not Organic Videos)"}};for(const t in o)if(o.hasOwnProperty(t)){const n=o[t].title,i=o[t].graphId,r=.8583,a=.9528,s=r*document.documentElement.clientHeight,l=a*document.documentElement.clientWidth,d=Math.floor(.0208*document.documentElement.clientWidth),c=Math.floor(.0128*document.documentElement.clientWidth),m=Math.floor(.0156*document.documentElement.clientWidth),h=Math.floor(.0156*document.documentElement.clientWidth),u=Math.floor(.0128*document.documentElement.clientWidth),g=Math.floor(.03*document.documentElement.clientWidth),p=Math.floor(.0104*document.documentElement.clientWidth);let f=[],y=[];const b=["Shane C","Rick F","Tim W"];b.forEach(o=>{const n=e[o][t],i=Math.round(n.avgViews),r=Math.round(n.lastXDaysAvgViews);f.push(i),y.push(r)});const v={x:b,y:f,name:"All Time",offsetgroup:1,textfont:{size:h},textposition:"auto",texttemplate:"~%{y:,}<br>views",type:"bar",yaxis:"y"};let E=JSON.parse(JSON.stringify(v));E.y=y,E.name="Last 30 Days",E.offsetgroup=2,E.yaxis="y2";let x=[v,E];const w={height:s,width:l,barmode:"group",hovermode:!1,legend:{bgcolor:"#eeeeee",font:{size:c},x:1.1,xanchor:"left",y:.5},margin:{b:p,t:g},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:d},text:n},xaxis:{automargin:!0,fixedrange:!0,tickfont:{size:u},title:{font:{size:m},text:"Videographers"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:u},title:{font:{size:m},text:"Average Views Per Video (All Time)"}},yaxis2:{automargin:!0,fixedrange:!0,showgrid:!1,overlaying:"y",side:"right",zeroline:!1,tickfont:{size:u},title:{font:{size:m},text:"Average Views Per Video (Last 30 Days)"}}},M={scrollZoom:!1,displayModeBar:!1,staticPlot:!0,responsive:!0};try{createGraph(i,x,w,M,r,a,!1)}catch(e){displayGraphError(i,e)}}}function displayVideographerMonthlyVideos(e){e=e||lsGet("videographers");const t=["Shane C","Rick F","Tim W"],o=[getDashboardGraphIds("videographerGraphs").cumulativeVideos,getDashboardGraphIds("videographerGraphs").monthlyVideos],n={all:{cumulative:{graphId:o[0].all,title:"Cumulative Videos By Videographer (All Videos)"},monthly:{graphId:o[1].all,title:"Monthly Videos By Videographer (All Videos)"}},organic:{cumulative:{graphId:o[0].organic,title:"Cumulative Videos By Videographer (Organic Videos)"},monthly:{graphId:o[1].organic,title:"Monthly Videos By Videographer (Organic Videos)"}},notOrganic:{cumulative:{graphId:o[0].notOrganic,title:"Cumulative Videos By Videographer (Not Organic Videos)"},monthly:{graphId:o[1].notOrganic,title:"Monthly Videos By Videographer (Not Organic Videos)"}}};for(const o in n)if(n.hasOwnProperty(o)){const i=n[o].cumulative.title,r=n[o].cumulative.graphId,a=n[o].monthly.title,s=n[o].monthly.graphId;let l=[],d=[];t.forEach(t=>{const n=e[t][o],i=n.monthlyVideos;let r=[];for(const e in i)if(i.hasOwnProperty(e)){const t=i[e];r.push({month:e,numVideos:t})}r.sort(function(e,t){return e.month>t.month?1:e.month==t.month?0:-1});let a=[],s=[],c=[],m=0,h=[],u=[];r.forEach(e=>{m+=e.numVideos,a.push(e.month),s.push(m),c.push(e.numVideos);let t=[];1==e.numVideos?(t.push("1 new video"),u.push("1 video")):(t.push(`${e.numVideos} new videos`),u.push(`${e.numVideos} videos`)),1==m?t.push("1 video total"):t.push(`${m} videos total`),h.push(t)});let g={x:a,y:s,name:t,customdata:h,stackgroup:"one",hovertemplate:"%{customdata[0]} in %{x}<br>%{customdata[1]}<extra>"+t+"</extra>"},p={x:a,y:c,name:t,customdata:u,stackgroup:"one",groupnorm:"percent",hovertemplate:"%{y:.0f}% of total videos<br>%{customdata}<extra>"+t+"</extra>"};l.push(g),d.push(p)});const c=.8583,m=.9528,h=c*document.documentElement.clientHeight,u=m*document.documentElement.clientWidth,g=Math.floor(.0208*document.documentElement.clientWidth),p=Math.floor(.01*document.documentElement.clientWidth),f=Math.floor(.0156*document.documentElement.clientWidth),y=Math.floor(.0104*document.documentElement.clientWidth),b=Math.floor(.03*document.documentElement.clientWidth),v=Math.floor(.0104*document.documentElement.clientWidth),E={height:h,width:u,hoverlabel:{font:{size:y},namelength:-1},legend:{bgcolor:"#eeeeee",font:{size:p},y:.5},margin:{b:v,t:b},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:g},text:i},xaxis:{automargin:!0,fixedrange:!0,tickfont:{size:y},title:{font:{size:f},text:"Month"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:y},title:{font:{size:f},text:"Cumulative Videos Created"}}};let x=JSON.parse(JSON.stringify(E));x.title.text=a,x.yaxis.ticksuffix="%",x.yaxis.title.text="Percentage of Videos Created";const w={scrollZoom:!1,displayModeBar:!1};try{createGraph(r,l,E,w,c,m,!1)}catch(e){displayGraphError(r,e)}try{createGraph(s,d,x,w,c,m,!1)}catch(e){displayGraphError(s,e)}}}function displayVideographerMonthlyViews(e){e=e||lsGet("videographers");const t=["Shane C","Rick F","Tim W"],o=[getDashboardGraphIds("videographerGraphs").cumulativeViews,getDashboardGraphIds("videographerGraphs").monthlyViews],n={all:{cumulative:{graphId:o[0].all,title:"Cumulative Views By Videographer (All Videos)"},monthly:{graphId:o[1].all,title:"Monthly Views By Videographer (All Videos)"}},organic:{cumulative:{graphId:o[0].organic,title:"Cumulative Views By Videographer (Organic Videos)"},monthly:{graphId:o[1].organic,title:"Monthly Views By Videographer (Organic Videos)"}},notOrganic:{cumulative:{graphId:o[0].notOrganic,title:"Cumulative Views By Videographer (Not Organic Videos)"},monthly:{graphId:o[1].notOrganic,title:"Monthly Views By Videographer (Not Organic Videos)"}}};for(const o in n)if(n.hasOwnProperty(o)){const i=n[o].cumulative.title,r=n[o].cumulative.graphId,a=n[o].monthly.title,s=n[o].monthly.graphId;let l=[],d=[];t.forEach(t=>{const n=e[t][o],i=n.monthlyViews;let r=[];for(const e in i)if(i.hasOwnProperty(e)){const t=i[e];r.push({month:e,numViews:t})}r.sort(function(e,t){return e.month>t.month?1:e.month==t.month?0:-1});let a=[],s=[],c=[],m=0,h=[],u=[];r.forEach(e=>{m+=e.numViews,a.push(e.month),s.push(m),c.push(e.numViews);let t=[];1==e.numViews?(t.push("1 new view"),u.push("1 view")):(t.push(`${numberWithCommas(e.numViews)} new views`),u.push(`${numberWithCommas(e.numViews)} views`)),1==m?t.push("1 view total"):t.push(`${numberWithCommas(m)} views total`),h.push(t)});let g={x:a,y:s,name:t,customdata:h,stackgroup:"one",hovertemplate:"%{customdata[0]} in %{x}<br>%{customdata[1]}<extra>"+t+"</extra>"},p={x:a,y:c,name:t,customdata:u,stackgroup:"one",groupnorm:"percent",hovertemplate:"%{y:.0f}% of total videos<br>%{customdata}<extra>"+t+"</extra>"};l.push(g),d.push(p)});const c=.8583,m=.9528,h=c*document.documentElement.clientHeight,u=m*document.documentElement.clientWidth,g=Math.floor(.0208*document.documentElement.clientWidth),p=Math.floor(.01*document.documentElement.clientWidth),f=Math.floor(.0156*document.documentElement.clientWidth),y=Math.floor(.0104*document.documentElement.clientWidth),b=Math.floor(.03*document.documentElement.clientWidth),v=Math.floor(.0104*document.documentElement.clientWidth),E={height:h,width:u,hoverlabel:{font:{size:y},namelength:-1},legend:{bgcolor:"#eeeeee",font:{size:p},y:.5},margin:{b:v,t:b},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:g},text:i},xaxis:{automargin:!0,fixedrange:!0,tickfont:{size:y},title:{font:{size:f},text:"Month"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:y},title:{font:{size:f},text:"Cumulative Views"}}};let x=JSON.parse(JSON.stringify(E));x.title.text=a,x.yaxis.ticksuffix="%",x.yaxis.title.text="Percentage of Views";const w={scrollZoom:!1,displayModeBar:!1};try{createGraph(r,l,E,w,c,m,!1)}catch(e){displayGraphError(r,e)}try{createGraph(s,d,x,w,c,m,!1)}catch(e){displayGraphError(s,e)}}}function displayVideographerStats(e=lsGet("videographers")){const t=["Shane C","Rick F","Tim W"];t.forEach(t=>{const o=t.replace(" ","*");for(const n in e[t])if(e[t].hasOwnProperty(n)){const i=e[t][n],r=`vstats-${o}-`,a=`${r}${n}-`,s=document.getElementById(`${a}views-total`),l=document.getElementById(`${a}views-avg`),d=document.getElementById(`${a}subs-total`),c=document.getElementById(`${a}subs-avg`),m=document.getElementById(`${a}comments-total`),h=document.getElementById(`${a}comments-avg`),u=document.getElementById(`${a}likes-total`),g=document.getElementById(`${a}likes-avg`),p=document.getElementById(`${a}dislikes-total`),f=document.getElementById(`${a}dislikes-avg`),y=document.getElementById(`${a}like-ratio-total`),b=document.getElementById(`${a}like-ratio-avg`),v=document.getElementById(`${a}like-bar-total`),E=document.getElementById(`${a}like-bar-avg`),x=document.getElementById(`${a}duration-total`),w=document.getElementById(`${a}duration-avg`);s.innerHTML=numberWithCommas(i.totalViews),l.innerHTML=numberWithCommas(roundTo(i.avgViews,0)),d.innerHTML=numberWithCommas(i.totalSubsGained),c.innerHTML=roundTo(i.avgSubsGained,2),m.innerHTML=numberWithCommas(i.totalComments),h.innerHTML=roundTo(i.avgComments,1),u.innerHTML=numberWithCommas(i.totalLikes),g.innerHTML=roundTo(i.avgLikes,2),p.innerHTML=numberWithCommas(i.totalDislikes),f.innerHTML=roundTo(i.avgDislikes,2);const M=decimalToPercent(i.cumLikeRatio),V=decimalToPercent(i.avgLikeRatio);y.innerHTML=M+"%",b.innerHTML=V+"%",v.style.width=M+"%",E.style.width=V+"%",x.innerHTML=secondsToDurationLabeled(i.totalDuration.toFixed(0)),w.innerHTML=secondsToDurationLabeled(i.avgDuration.toFixed(0));const I=`vstats-overall-${o}-`,T=`${I}${n}-`,B=document.getElementById(`${T}videos-total`),C=document.getElementById(`${T}videos-last`),D=document.getElementById(`${T}avp-total`),W=document.getElementById(`${T}avp-last`),k=document.getElementById(`${T}watched-total`),L=document.getElementById(`${T}watched-last`);B.innerHTML=i.numVideos,C.innerHTML=numberWithCommas(i.numVideosLastXDays),D.innerHTML=roundTo(i.avgViewPercentage,1)+"%",W.innerHTML=roundTo(i.avgViewPercentageLastXDays,1)+"%",k.innerHTML=numberWithCommas(i.minWatched),L.innerHTML=numberWithCommas(i.minWatchedLastXDays);let G=[{dashboardId:a,preCatId:r,leftBtn:{id:null,target:null},rightBtn:{id:`${a}more`,target:`${T}grid`}},{dashboardId:T,preCatId:I,leftBtn:{id:null,target:null},rightBtn:{id:`${T}more`,target:`${a}grid`}}];G.forEach(o=>{for(const i in e[t])if(e[t].hasOwnProperty(i)){const e=document.getElementById(`${o.dashboardId}grid`),t=document.getElementById(`${o.dashboardId}btn-${i}`);if(n==i)t.disabled="disabled";else{const n=document.getElementById(`${o.preCatId}${i}-grid`);t.onclick=function(){e.classList.remove("active-grid"),n.classList.add("active-grid")}}const r=document.getElementById(o.rightBtn.id),a=document.getElementById(o.rightBtn.target);r.onclick=function(){e.classList.remove("active-grid"),a.classList.add("active-grid")}}})}})}function displayContestComparisonGraph(e){const t=lsGet("allVideoStats"),o=.8583,n=.9528,i=o*document.documentElement.clientHeight,r=n*document.documentElement.clientWidth,a=Math.floor(.0208*document.documentElement.clientWidth),s=Math.floor(.0128*document.documentElement.clientWidth),l=Math.floor(.0156*document.documentElement.clientWidth),d=Math.floor(.0156*document.documentElement.clientWidth),c=Math.floor(.0128*document.documentElement.clientWidth),m=Math.floor(.03*document.documentElement.clientWidth),h=Math.floor(.0104*document.documentElement.clientWidth);let u=[],g=[],p=[];for(const o in e)if(e.hasOwnProperty(o)){const n=e[o];u.push(n.shortTitle);const i=t.findIndex(e=>o==e.videoId);g.push(t[i].views),p.push(t[i].subscribersGained)}u=u.map(e=>e.replace(/(?![^\n]{1,20}$)([^\n]{1,20})\s/g,"$1<br>"));const f={x:u,y:g,name:"Views",offsetgroup:1,textfont:{size:d},textposition:"auto",texttemplate:"%{y:,}",type:"bar",yaxis:"y"};let y=JSON.parse(JSON.stringify(f));y.y=p,y.name="Subscribers<br>Gained",y.offsetgroup=2,y.texttemplate="%{y:,}",y.yaxis="y2";const b=[f,y],v={height:i,width:r,barmode:"group",hovermode:!1,legend:{bgcolor:"#eeeeee",font:{size:s},x:1.1,xanchor:"left",y:.5},margin:{b:h,t:m},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",title:{font:{size:a},text:"Contest Video Views and Subscribers Gained"},xaxis:{automargin:!0,fixedrange:!0,tickangle:0,tickfont:{size:c},title:{font:{size:l},text:"Contest Video"}},yaxis:{automargin:!0,fixedrange:!0,tickfont:{size:c},title:{font:{size:l},text:"Video Views"}},yaxis2:{automargin:!0,fixedrange:!0,showgrid:!1,overlaying:"y",side:"right",zeroline:!1,tickfont:{size:c},title:{font:{size:l},text:"Subscribers Gained"}}},E={scrollZoom:!1,displayModeBar:!1,staticPlot:!0,responsive:!0},x=getDashboardGraphIds("contestGraphs"),w=x.comparison;try{createGraph(w,b,v,E,o,n,!1)}catch(e){displayGraphError(w,e)}}function displayContestVideoStats(e){const t=lsGet("allVideoStats"),o=lsGet("statsByVideoId");let n=0;for(const i in e)if(e.hasOwnProperty(i)){const r=e[i],a=t.findIndex(e=>i==e.videoId),s=`contest-video-${n}`,l=document.getElementById(`${s}-views`),d=document.getElementById(`${s}-comments`),c=document.getElementById(`${s}-subs-gained`),m=document.getElementById(`${s}-dates`),h=document.getElementById(`${s}-num-days`),u=document.getElementById(`${s}-thumbnail`),g=document.getElementById(`${s}-title`),p=document.getElementById(`${s}-publish-date`),f=document.getElementById(`${s}-duration`),y=document.getElementById(`${s}-like-ratio`),b=document.getElementById(`${s}-like-bar`),v=document.getElementById(`${s}-likes`),E=document.getElementById(`${s}-dislikes`),x=document.getElementById(`${s}-example-comment`);l.innerHTML=numberWithCommas(t[a].views),d.innerHTML=numberWithCommas(t[a].comments),c.innerHTML=numberWithCommas(t[a].subscribersGained);const w=new Date(r.startDate),M=new Date(r.endDate),V=w.toLocaleString("default",{month:"short",timeZone:"UTC"});let I=V+". "+w.getUTCDate();w.getUTCFullYear()!=M.getUTCFullYear()&&(I+=", "+w.getUTCFullYear()),I+=" - <br>"+M.toLocaleString("default",{month:"short"})+". "+M.getUTCDate()+", "+M.getUTCFullYear(),m.innerHTML=I;const T=Math.round((M-w)/864e5);h.innerHTML=`(${T} Days)`;const B=o[i].title,C=`\n        <a href="https://youtu.be/${i}" target="_blank"\n            alt="${B}">\n          <img class="top-video-thumbnail" onload="thumbnailCheck($(this), true)"\n              src="https://i.ytimg.com/vi/${i}/maxresdefault.jpg"\n              alt="thumbnail" title="${B}">\n        </a>`;u.innerHTML=C,g.innerHTML=B,p.innerHTML="Published: "+dateToMMDDYYYY(o[i].publishDate),f.innerHTML="Duration: "+secondsToDuration(t[a].duration);const D=t[a].likes,W=t[a].dislikes;let k=D/(D+W);isNaN(k)&&(k=0),k=decimalToPercent(k),v.innerHTML=`${D} Likes`,E.innerHTML=`${W} Dislikes`,y.innerHTML=k+"%",b.style.width=k+"%",x.innerHTML=r.exampleComment,requestVideoDailyViews(r.startDate,r.endDate,i,s),n++}}